{"version":3,"sources":["webpack:///./src/components/admin/postList.vue?083b","webpack:///src/components/admin/postList.vue","webpack:///./src/components/admin/postList.vue?288d","webpack:///./src/components/admin/postList.vue","webpack:///./src/components/admin/postList.vue?2ec5"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","model","value","pagination","callback","$$v","$set","expression","key","_l","item","id","sortName","labelName","on","$event","searchArticles","_v","clearSearch","$router","push","path","articles","scopedSlots","_u","fn","scope","row","viewStatus","_s","nativeOn","changeStatus","articleCover","commentStatus","recommendStatus","handleEdit","handleDelete","current","size","total","handlePageChange","staticRenderFns","data","isBoss","searchKey","sortId","labelId","sorts","labels","labelsTemp","computed","watch","newVal","created","mounted","methods","getSortAndLabel","then","catch","message","type","getArticles","url","val","article","flag","param","articleId","duration","showClose","confirmButtonText","cancelButtonText","center","query","component"],"mappings":"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CAmB,UACAC,QACAC,QACAK,aACAV,qBACAW,YACAC,cAEA,oBAEAe,YA5BA,WA4BA,WACA,KAEAC,EADA,YACAA,2BAEAA,2BAEA,6DACAL,MAAA,YACA,4BACA,0BACA,oCAGAC,OAAA,YACA,YACAC,kBACAC,mBAIApB,iBAjDA,SAiDAuB,GACA,0BACA,oBAEA/C,eArDA,WAsDA,wBACA,0BACA,oBAEAe,aA1DA,SA0DAiC,EAAAC,GAAA,IACA,EADA,OAEA,MACAC,GACAC,eACAvC,yBAEA,MACAsC,GACAC,eACAlC,+BAEA,QACAiC,GACAC,eACAjC,oCAGA,iFACAuB,MAAA,YACA,MACA,YACAW,WACAC,aACAV,oCACAC,iBAGA,YACAD,gBACAC,oBAIAF,OAAA,YACA,YACAC,kBACAC,mBAIAxB,aAnGA,SAmGA1B,GAAA,WACA,4BACA4D,uBACAC,sBACAX,eACAY,YACAf,MAAA,WACA,0DAAA9C,UAAA,GACA8C,MAAA,YACA,uBACA,gBACA,YACAE,gBACAC,oBAGAF,OAAA,YACA,YACAC,kBACAC,qBAGAF,OAAA,WACA,YACAE,eACAD,uBAIAxB,WAhIA,SAgIAzB,GACA,mBAAAW,iBAAAoD,OAAA9D,eCrQiW,I,wBCQ7V+D,EAAY,eACd,EACAnF,EACAkD,GACA,EACA,KACA,WACA,MAIa,aAAAiC,E,2CCnBf,W","file":"js/chunk-628f2dca.dda0a5b1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handle-box\"},[_c('el-select',{staticClass:\"mrb10\",staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"是否推荐\"},model:{value:(_vm.pagination.recommendStatus),callback:function ($$v) {_vm.$set(_vm.pagination, \"recommendStatus\", $$v)},expression:\"pagination.recommendStatus\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"是\",\"value\":true}}),_c('el-option',{key:\"2\",attrs:{\"label\":\"否\",\"value\":false}})],1),_c('el-select',{staticClass:\"mrb10\",staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.pagination.sortId),callback:function ($$v) {_vm.$set(_vm.pagination, \"sortId\", $$v)},expression:\"pagination.sortId\"}},_vm._l((_vm.sorts),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.sortName,\"value\":item.id}})}),1),_c('el-select',{staticClass:\"mrb10\",staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择标签\"},model:{value:(_vm.pagination.labelId),callback:function ($$v) {_vm.$set(_vm.pagination, \"labelId\", $$v)},expression:\"pagination.labelId\"}},_vm._l((_vm.labelsTemp),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.labelName,\"value\":item.id}})}),1),_c('el-input',{staticClass:\"handle-input mrb10\",attrs:{\"placeholder\":\"文章标题\"},model:{value:(_vm.pagination.searchKey),callback:function ($$v) {_vm.$set(_vm.pagination, \"searchKey\", $$v)},expression:\"pagination.searchKey\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.searchArticles()}}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.clearSearch()}}},[_vm._v(\"清除参数\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({path: '/postEdit'})}}},[_vm._v(\"新增文章\")])],1),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.articles,\"border\":\"\",\"header-cell-class-name\":\"table-header\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"作者\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"articleTitle\",\"label\":\"文章标题\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"sort.sortName\",\"label\":\"分类\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"label.labelName\",\"label\":\"标签\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"viewCount\",\"label\":\"浏览量\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"likeCount\",\"label\":\"点赞数\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"是否可见\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.viewStatus === false ? 'danger' : 'success',\"disable-transitions\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.viewStatus === false ? '不可见' : '可见')+\" \")]),_c('el-switch',{nativeOn:{\"click\":function($event){return _vm.changeStatus(scope.row, 1)}},model:{value:(scope.row.viewStatus),callback:function ($$v) {_vm.$set(scope.row, \"viewStatus\", $$v)},expression:\"scope.row.viewStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"封面\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticClass:\"table-td-thumb\",attrs:{\"lazy\":\"\",\"src\":scope.row.articleCover,\"fit\":\"cover\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否启用评论\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.commentStatus === false ? 'danger' : 'success',\"disable-transitions\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.commentStatus === false ? '否' : '是')+\" \")]),_c('el-switch',{nativeOn:{\"click\":function($event){return _vm.changeStatus(scope.row, 2)}},model:{value:(scope.row.commentStatus),callback:function ($$v) {_vm.$set(scope.row, \"commentStatus\", $$v)},expression:\"scope.row.commentStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"是否推荐\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.recommendStatus === false ? 'danger' : 'success',\"disable-transitions\":\"\"}},[_vm._v(\" \"+_vm._s(scope.row.recommendStatus === false ? '否' : '是')+\" \")]),_c('el-switch',{nativeOn:{\"click\":function($event){return _vm.changeStatus(scope.row, 3)}},model:{value:(scope.row.recommendStatus),callback:function ($$v) {_vm.$set(scope.row, \"recommendStatus\", $$v)},expression:\"scope.row.recommendStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"commentCount\",\"label\":\"评论数\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"最终修改时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticStyle:{\"color\":\"var(--orangeRed)\"},attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\" 删除 \")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"current-page\":_vm.pagination.current,\"page-size\":_vm.pagination.size,\"total\":_vm.pagination.total},on:{\"current-change\":_vm.handlePageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"handle-box\">\r\n      <el-select v-model=\"pagination.recommendStatus\" placeholder=\"是否推荐\" style=\"width: 120px\" class=\"mrb10\">\r\n        <el-option key=\"1\" label=\"是\" :value=\"true\"></el-option>\r\n        <el-option key=\"2\" label=\"否\" :value=\"false\"></el-option>\r\n      </el-select>\r\n      <el-select style=\"width: 140px\" class=\"mrb10\" v-model=\"pagination.sortId\" placeholder=\"请选择分类\">\r\n        <el-option\r\n          v-for=\"item in sorts\"\r\n          :key=\"item.id\"\r\n          :label=\"item.sortName\"\r\n          :value=\"item.id\">\r\n        </el-option>\r\n      </el-select>\r\n      <el-select style=\"width: 140px\" class=\"mrb10\" v-model=\"pagination.labelId\" placeholder=\"请选择标签\">\r\n        <el-option\r\n          v-for=\"item in labelsTemp\"\r\n          :key=\"item.id\"\r\n          :label=\"item.labelName\"\r\n          :value=\"item.id\">\r\n        </el-option>\r\n      </el-select>\r\n      <el-input v-model=\"pagination.searchKey\" placeholder=\"文章标题\" class=\"handle-input mrb10\"></el-input>\r\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchArticles()\">搜索</el-button>\r\n      <el-button type=\"danger\" @click=\"clearSearch()\">清除参数</el-button>\r\n      <el-button type=\"primary\" @click=\"$router.push({path: '/postEdit'})\">新增文章</el-button>\r\n    </div>\r\n    <el-table :data=\"articles\" border class=\"table\" header-cell-class-name=\"table-header\">\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"55\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"username\" label=\"作者\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"articleTitle\" label=\"文章标题\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"sort.sortName\" label=\"分类\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"label.labelName\" label=\"标签\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"viewCount\" label=\"浏览量\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"likeCount\" label=\"点赞数\" align=\"center\"></el-table-column>\r\n      <el-table-column label=\"是否可见\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.viewStatus === false ? 'danger' : 'success'\"\r\n                  disable-transitions>\r\n            {{scope.row.viewStatus === false ? '不可见' : '可见'}}\r\n          </el-tag>\r\n          <el-switch @click.native=\"changeStatus(scope.row, 1)\" v-model=\"scope.row.viewStatus\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"封面\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-image lazy class=\"table-td-thumb\" :src=\"scope.row.articleCover\" fit=\"cover\"></el-image>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"是否启用评论\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.commentStatus === false ? 'danger' : 'success'\"\r\n                  disable-transitions>\r\n            {{scope.row.commentStatus === false ? '否' : '是'}}\r\n          </el-tag>\r\n          <el-switch @click.native=\"changeStatus(scope.row, 2)\" v-model=\"scope.row.commentStatus\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"是否推荐\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.recommendStatus === false ? 'danger' : 'success'\"\r\n                  disable-transitions>\r\n            {{scope.row.recommendStatus === false ? '否' : '是'}}\r\n          </el-tag>\r\n          <el-switch @click.native=\"changeStatus(scope.row, 3)\" v-model=\"scope.row.recommendStatus\"></el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"commentCount\" label=\"评论数\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" align=\"center\"></el-table-column>\r\n      <el-table-column prop=\"updateTime\" label=\"最终修改时间\" align=\"center\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button type=\"text\" icon=\"el-icon-delete\" style=\"color: var(--orangeRed)\" @click=\"handleDelete(scope.row)\">\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"pagination\">\r\n      <el-pagination background layout=\"total, prev, pager, next\"\r\n                     :current-page=\"pagination.current\"\r\n                     :page-size=\"pagination.size\"\r\n                     :total=\"pagination.total\"\r\n                     @current-change=\"handlePageChange\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isBoss: this.$store.state.currentAdmin.isBoss,\r\n        pagination: {\r\n          current: 1,\r\n          size: 10,\r\n          total: 0,\r\n          searchKey: \"\",\r\n          recommendStatus: null,\r\n          sortId: null,\r\n          labelId: null\r\n        },\r\n        articles: [],\r\n        sorts: [],\r\n        labels: [],\r\n        labelsTemp: []\r\n      }\r\n    },\r\n\r\n    computed: {},\r\n\r\n    watch: {\r\n      'pagination.sortId'(newVal) {\r\n        this.pagination.labelId = null;\r\n        if (!this.$common.isEmpty(newVal) && !this.$common.isEmpty(this.labels)) {\r\n          this.labelsTemp = this.labels.filter(l => l.sortId === newVal);\r\n        }\r\n      }\r\n    },\r\n\r\n    created() {\r\n      this.getArticles();\r\n      this.getSortAndLabel();\r\n    },\r\n\r\n    mounted() {\r\n    },\r\n\r\n    methods: {\r\n      getSortAndLabel() {\r\n        this.$http.get(this.$constant.baseURL + \"/webInfo/listSortAndLabel\")\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              this.sorts = res.data.sorts;\r\n              this.labels = res.data.labels;\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      clearSearch() {\r\n        this.pagination = {\r\n          current: 1,\r\n          size: 10,\r\n          total: 0,\r\n          searchKey: \"\",\r\n          recommendStatus: null,\r\n          sortId: null,\r\n          labelId: null\r\n        }\r\n        this.getArticles();\r\n      },\r\n      getArticles() {\r\n        let url = \"\";\r\n        if (this.isBoss) {\r\n          url = \"/admin/article/boss/list\";\r\n        } else {\r\n          url = \"/admin/article/user/list\";\r\n        }\r\n        this.$http.post(this.$constant.baseURL + url, this.pagination, true)\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              this.articles = res.data.records;\r\n              this.pagination.total = res.data.total;\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      handlePageChange(val) {\r\n        this.pagination.current = val;\r\n        this.getArticles();\r\n      },\r\n      searchArticles() {\r\n        this.pagination.total = 0;\r\n        this.pagination.current = 1;\r\n        this.getArticles();\r\n      },\r\n      changeStatus(article, flag) {\r\n        let param;\r\n        if (flag === 1) {\r\n          param = {\r\n            articleId: article.id,\r\n            viewStatus: article.viewStatus\r\n          }\r\n        } else if (flag === 2) {\r\n          param = {\r\n            articleId: article.id,\r\n            commentStatus: article.commentStatus\r\n          }\r\n        } else if (flag === 3) {\r\n          param = {\r\n            articleId: article.id,\r\n            recommendStatus: article.recommendStatus\r\n          }\r\n        }\r\n        this.$http.get(this.$constant.baseURL + \"/admin/article/changeArticleStatus\", param, true)\r\n          .then((res) => {\r\n            if (flag === 1) {\r\n              this.$message({\r\n                duration: 0,\r\n                showClose: true,\r\n                message: \"修改成功！注意，文章不可见时必须设置密码才能访问！\",\r\n                type: \"warning\"\r\n              });\r\n            } else {\r\n              this.$message({\r\n                message: \"修改成功！\",\r\n                type: \"success\"\r\n              });\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      handleDelete(item) {\r\n        this.$confirm('确认删除？', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'success',\r\n          center: true\r\n        }).then(() => {\r\n          this.$http.get(this.$constant.baseURL + \"/article/deleteArticle\", {id: item.id}, true)\r\n            .then((res) => {\r\n              this.pagination.current = 1;\r\n              this.getArticles();\r\n              this.$message({\r\n                message: \"删除成功！\",\r\n                type: \"success\"\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              this.$message({\r\n                message: error.message,\r\n                type: \"error\"\r\n              });\r\n            });\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '已取消删除!'\r\n          });\r\n        });\r\n      },\r\n      handleEdit(item) {\r\n        this.$router.push({path: '/postEdit', query: {id: item.id}});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .handle-box {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .handle-input {\r\n    width: 160px;\r\n    display: inline-block;\r\n  }\r\n\r\n  .table {\r\n    width: 100%;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .mrb10 {\r\n    margin-right: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .table-td-thumb {\r\n    display: block;\r\n    margin: auto;\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .pagination {\r\n    margin: 20px 0;\r\n    text-align: right;\r\n  }\r\n\r\n  .el-switch {\r\n    margin: 5px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./postList.vue?vue&type=template&id=8ae6f7a0&scoped=true&\"\nimport script from \"./postList.vue?vue&type=script&lang=js&\"\nexport * from \"./postList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./postList.vue?vue&type=style&index=0&id=8ae6f7a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ae6f7a0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./postList.vue?vue&type=style&index=0&id=8ae6f7a0&scoped=true&lang=css&\""],"sourceRoot":""}