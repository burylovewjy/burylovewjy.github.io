{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./src/components/message.vue?9015","webpack:///src/components/message.vue","webpack:///./src/components/message.vue?6662","webpack:///./src/components/message.vue","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/components/message.vue?efe3"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","render","_vm","this","_h","$createElement","_c","_self","_m","staticClass","staticStyle","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","show","target","composing","messageContent","submitMessage","barrageList","$constant","source","userId","staticRenderFns","random_image","Date","Math","floor","random","slot","components","comment","myFooter","data","created","methods","getTreeHole","then","res","id","avatar","msg","time","catch","message","type","treeHole","component","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","arguments","length","undefined"],"mappings":"qGAAA,IAAIA,EAAS,EAAQ,QACjBC,EAAe,EAAQ,QACvBC,EAAwB,EAAQ,QAChCC,EAAU,EAAQ,QAClBC,EAA8B,EAAQ,QAEtCC,EAAkB,SAAUC,GAE9B,GAAIA,GAAuBA,EAAoBH,UAAYA,EAAS,IAClEC,EAA4BE,EAAqB,UAAWH,GAC5D,MAAOI,GACPD,EAAoBH,QAAUA,IAIlC,IAAK,IAAIK,KAAmBP,EACtBA,EAAaO,IACfH,EAAgBL,EAAOQ,IAAoBR,EAAOQ,GAAiBC,WAIvEJ,EAAgBH,I,2CCrBhB,IAAIQ,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACJ,EAAIM,GAAG,GAAGF,EAAG,MAAM,CAACG,YAAY,aAAaC,YAAY,CAAC,aAAa,WAAW,CAACJ,EAAG,KAAK,CAACG,YAAY,iBAAiB,CAACP,EAAIS,GAAG,QAAQL,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACM,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOb,EAAkB,eAAEc,WAAW,mBAAmBP,YAAY,gBAAgBC,YAAY,CAAC,QAAU,OAAO,MAAQ,OAAOO,MAAM,CAAC,KAAO,OAAO,YAAc,UAAU,UAAY,MAAMC,SAAS,CAAC,MAAShB,EAAkB,gBAAGiB,GAAG,CAAC,MAAQ,SAASC,GAAQlB,EAAImB,MAAO,GAAM,MAAQ,SAASD,GAAWA,EAAOE,OAAOC,YAAqBrB,EAAIsB,eAAeJ,EAAOE,OAAOP,WAAUT,EAAG,SAAS,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOb,EAAQ,KAAEc,WAAW,SAASP,YAAY,gBAAgBC,YAAY,CAAC,cAAc,OAAO,OAAS,UAAU,MAAQ,OAAOS,GAAG,CAAC,MAAQjB,EAAIuB,gBAAgB,CAACvB,EAAIS,GAAG,aAAaL,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,gBAAgB,CAACW,MAAM,CAAC,YAAcf,EAAIwB,YAAY,MAAO,MAAS,IAAI,GAAGpB,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,UAAU,CAACW,MAAM,CAAC,OAASf,EAAIyB,UAAUC,OAAO,KAAO,UAAU,OAAS1B,EAAIyB,UAAUE,WAAW,GAAGvB,EAAG,aAAa,MACnvCwB,EAAkB,CAAC,WAAa,IAAI5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,YAAY,mBAAmBC,YAAY,CAAC,UAAY,oBAAoBO,MAAM,CAAC,KAAO,GAAG,IAAMf,EAAIyB,UAAUI,aAAa,IAAIC,KAAOC,KAAKC,MAAoB,GAAdD,KAAKE,UAAa,IAAM,UAAU,CAAC7B,EAAG,MAAM,CAACG,YAAY,oCAAoCQ,MAAM,CAAC,KAAO,SAASmB,KAAK,cC2CtY,G,kDAAA,oEACA,qEAEA,GACAC,YACAC,UACAC,YAEAC,KALA,WAMA,OACAnB,QACAG,kBAEAE,iBAGAe,QAbA,WAcA,oBAEAC,SACAC,YADA,WACA,WACA,+DACAC,MAAA,YACA,2BACAC,4BACA,oBACAC,QACAC,gBACAC,cACAC,4CAKAC,OAAA,YACA,YACAC,kBACAC,mBAIA3B,cAtBA,WAsBA,WACA,oCAQA,OACA0B,oCAGA,kHACAE,+CAIA,kEACAT,MAAA,YACA,2BACA,oBACAE,aACAC,qBACAC,mBACAC,yCAIAC,OAAA,YACA,YACAC,kBACAC,kBAIA,uBACA,kBAnCA,eACAD,iBACAC,oBCzFiV,I,wBCQ7UE,EAAY,eACd,EACArD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E,6CClBf,IAAIC,EAAW,EAAQ,QAAgC7D,QACnD8D,EAAsB,EAAQ,QAE9BC,EAAgBD,EAAoB,WAIxCE,EAAOC,QAAWF,EAGd,GAAG/D,QAH2B,SAAiBkE,GACjD,OAAOL,EAASpD,KAAMyD,EAAYC,UAAUC,OAAS,EAAID,UAAU,QAAKE,K,oCCT1E,W","file":"js/chunk-756cd197.9649c1bd.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_vm._m(0),_c('div',{staticClass:\"message-in\",staticStyle:{\"text-align\":\"center\"}},[_c('h2',{staticClass:\"message-title\"},[_vm._v(\"树洞\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.messageContent),expression:\"messageContent\"}],staticClass:\"message-input\",staticStyle:{\"outline\":\"none\",\"width\":\"70%\"},attrs:{\"type\":\"text\",\"placeholder\":\"留下点什么啦~\",\"maxlength\":\"60\"},domProps:{\"value\":(_vm.messageContent)},on:{\"click\":function($event){_vm.show = true},\"input\":function($event){if($event.target.composing){ return; }_vm.messageContent=$event.target.value}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"message-input\",staticStyle:{\"margin-left\":\"12px\",\"cursor\":\"pointer\",\"width\":\"20%\"},on:{\"click\":_vm.submitMessage}},[_vm._v(\"发射 \")])])]),_c('div',{staticClass:\"barrage-container\"},[_c('vue-baberrage',{attrs:{\"barrageList\":_vm.barrageList,\"loop\":true}})],1)],1),_c('div',{staticClass:\"comment-wrap\"},[_c('div',{staticClass:\"comment-content\"},[_c('comment',{attrs:{\"source\":_vm.$constant.source,\"type\":'message',\"userId\":_vm.$constant.userId}})],1),_c('myFooter')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-image',{staticClass:\"background-image\",staticStyle:{\"animation\":\"header-effect 2s\"},attrs:{\"lazy\":\"\",\"src\":_vm.$constant.random_image+new Date()+Math.floor(Math.random()*10),\"fit\":\"cover\"}},[_c('div',{staticClass:\"image-slot background-image-error\",attrs:{\"slot\":\"error\"},slot:\"error\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <el-image style=\"animation: header-effect 2s\"\r\n                class=\"background-image\"\r\n                v-once\r\n                lazy\r\n                :src=\"$constant.random_image+new Date()+Math.floor(Math.random()*10)\"\r\n                fit=\"cover\">\r\n        <div slot=\"error\" class=\"image-slot background-image-error\"></div>\r\n      </el-image>\r\n      <!-- 输入框 -->\r\n      <div class=\"message-in\" style=\"text-align: center\">\r\n        <h2 class=\"message-title\">树洞</h2>\r\n        <div>\r\n          <input class=\"message-input\"\r\n                 type=\"text\"\r\n                 style=\"outline: none;width: 70%\"\r\n                 placeholder=\"留下点什么啦~\"\r\n                 v-model=\"messageContent\"\r\n                 @click=\"show = true\"\r\n                 maxlength=\"60\"/>\r\n          <button v-show=\"show\"\r\n                  style=\"margin-left: 12px;cursor: pointer;width: 20%\"\r\n                  @click=\"submitMessage\"\r\n                  class=\"message-input\">发射\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- 弹幕 -->\r\n      <div class=\"barrage-container\">\r\n        <vue-baberrage :barrageList=\"barrageList\" :loop=\"true\"></vue-baberrage>\r\n      </div>\r\n    </div>\r\n    <div class=\"comment-wrap\">\r\n      <div class=\"comment-content\">\r\n        <comment :source=\"$constant.source\" :type=\"'message'\" :userId=\"$constant.userId\"></comment>\r\n      </div>\r\n      <myFooter></myFooter>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  const comment = () => import( \"./comment/comment\");\r\n  const myFooter = () => import( \"./common/myFooter\");\r\n\r\n  export default {\r\n    components: {\r\n      comment,\r\n      myFooter\r\n    },\r\n    data() {\r\n      return {\r\n        show: false,\r\n        messageContent: \"\",\r\n        // background: {\"background\": \"url(\" + this.$store.state.webInfo.backgroundImage + \") center center / cover no-repeat\"},\r\n        barrageList: []\r\n      };\r\n    },\r\n    created() {\r\n      this.getTreeHole();\r\n    },\r\n    methods: {\r\n      getTreeHole() {\r\n        this.$http.get(this.$constant.baseURL + \"/webInfo/listTreeHole\")\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              res.data.forEach(m => {\r\n                this.barrageList.push({\r\n                  id: m.id,\r\n                  avatar: m.avatar,\r\n                  msg: m.message,\r\n                  time: Math.floor(Math.random() * 10 + 5)\r\n                });\r\n              });\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n      },\r\n      submitMessage() {\r\n        if (this.messageContent.trim() === \"\") {\r\n          this.$message({\r\n            message: \"你还没写呢~\",\r\n            type: \"warning\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        let treeHole = {\r\n          message: this.messageContent.trim()\r\n        };\r\n\r\n        if (!this.$common.isEmpty(this.$store.state.currentUser) && !this.$common.isEmpty(this.$store.state.currentUser.avatar)) {\r\n          treeHole.avatar = this.$store.state.currentUser.avatar;\r\n        }\r\n\r\n\r\n        this.$http.post(this.$constant.baseURL + \"/webInfo/saveTreeHole\", treeHole)\r\n          .then((res) => {\r\n            if (!this.$common.isEmpty(res.data)) {\r\n              this.barrageList.push({\r\n                id: res.data.id,\r\n                avatar: res.data.avatar,\r\n                msg: res.data.message,\r\n                time: Math.floor(Math.random() * 10 + 5)\r\n              });\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.$message({\r\n              message: error.message,\r\n              type: \"error\"\r\n            });\r\n          });\r\n\r\n        this.messageContent = \"\";\r\n        this.show = false;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .message-in {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 40%;\r\n    transform: translate(-50%, -50%);\r\n    color: var(--white);\r\n    animation: hideToShow 2.5s;\r\n    width: 360px;\r\n    z-index: 10;\r\n  }\r\n\r\n  .message-title {\r\n    user-select: none;\r\n    text-align: center;\r\n  }\r\n\r\n  .message-input {\r\n    border-radius: 1.2rem;\r\n    border: var(--white) 1px solid;\r\n    color: var(--white);\r\n    background: var(--transparent);\r\n    padding: 10px 10px;\r\n  }\r\n\r\n  .message-input::-webkit-input-placeholder {\r\n    color: var(--white);\r\n  }\r\n\r\n  .barrage-container {\r\n    position: absolute;\r\n    top: 50px;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: calc(100% - 50px);\r\n    width: 100%;\r\n    user-select: none;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .comment-wrap {\r\n    background: var(--background);\r\n    position: absolute;\r\n    top: 100vh;\r\n    width: 100%;\r\n  }\r\n\r\n  .comment-content {\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    padding: 40px 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./message.vue?vue&type=template&id=4744ca81&scoped=true&\"\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&id=4744ca81&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4744ca81\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es-x/no-array-prototype-foreach -- safe\n} : [].forEach;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=style&index=0&id=4744ca81&scoped=true&lang=css&\""],"sourceRoot":""}